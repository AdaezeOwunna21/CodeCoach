import random
import time
print("Welcome to Hangman")

name = input("Enter name:  ")
print("Hello " + name + "! Best of Luck")
time.sleep(2)
print("The game is about to start! \n Lets play Hangman!")
time.sleep(3)


def main():
    global count
    global display
    global word
    global already_guessed
    global length
    global play_game
    
    words_to_guess = ["clock", "land", "mountain", "nigeria","purple"]
    word = random.choice(words_to_guess)
    length = len(word)
    count = 0
    display = '_' * length
    already_guessed = []
    play_game = " "
    
    def play_loop():
        global play_game
        play_game = input("Do you want to play again? y = yes, n = no \n")
        while play_game not in ["y","n","Y","N"]:
            if play_game == "y":
                main()
            elif play_game =="n":
                print("Thans for playing!")
            exit()
            
    def hangman():
        global count
        global display
        global word
        global already_guessed
        global play_game
        limit =  5 
        guess = input("This is the Hangman Word: " + display + "Enter your guess: \n")
        guess = guess.strip().lower()
        if not guess.isalpha() or len(guess) != 1:
            print("Invalid Input, try again")
            hangman()

        elif guess in word:
            already_guessed.extend([guess])
            index = word.find(guess)
            word = word[:index] + "_" + word[index + 1:]
            display = display[:index] + guess + display[index + 1:]
            print(display + "\n")
        
        elif guess in already_guessed:
            print("try another letter. \n")
    
